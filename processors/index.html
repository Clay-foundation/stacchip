
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Dynamically create image chips for earth observation machine learning applications using a custom chip index based on STAC items.">
      
      
      
        <link rel="canonical" href="https://clay-foundation.github.io/stacchip/processors/">
      
      
        <link rel="prev" href="../chipper/">
      
      
        <link rel="next" href="../naip-tutorial/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Processors - Stacchip</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sentinel-2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Stacchip" class="md-header__button md-logo" aria-label="Stacchip" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stacchip
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Processors
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/clay-foundation/stacchip" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    clay-foundation/stacchip
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Stacchip" class="md-nav__button md-logo" aria-label="Stacchip" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Stacchip
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/clay-foundation/stacchip" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    clay-foundation/stacchip
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stacchip
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../indexer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Indexer
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chipper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chipper
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Processors
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Processors
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sentinel-2" class="md-nav__link">
    <span class="md-ellipsis">
      Sentinel-2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#landsat" class="md-nav__link">
    <span class="md-ellipsis">
      Landsat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naip" class="md-nav__link">
    <span class="md-ellipsis">
      NAIP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linz" class="md-nav__link">
    <span class="md-ellipsis">
      LINZ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modis" class="md-nav__link">
    <span class="md-ellipsis">
      MODIS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Batch processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prechip" class="md-nav__link">
    <span class="md-ellipsis">
      Prechip
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../naip-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/stacchip/chipper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module stacchip.chipper
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/stacchip/indexer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module stacchip.indexer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sentinel-2" class="md-nav__link">
    <span class="md-ellipsis">
      Sentinel-2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#landsat" class="md-nav__link">
    <span class="md-ellipsis">
      Landsat
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naip" class="md-nav__link">
    <span class="md-ellipsis">
      NAIP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#linz" class="md-nav__link">
    <span class="md-ellipsis">
      LINZ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modis" class="md-nav__link">
    <span class="md-ellipsis">
      MODIS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-processing" class="md-nav__link">
    <span class="md-ellipsis">
      Batch processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prechip" class="md-nav__link">
    <span class="md-ellipsis">
      Prechip
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Processors</h1>

<p>To use stacchip for an existing imagery archive, the indexes need to be
created for each scene or STAC item.</p>
<p>Stacchip comes with <a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/">processors</a> that
can be used to collect and index imagery from multiple data sources.
This will be extended as the package grows. </p>
<p>Each processor is registered as a command line utility so that it can be
scaled easily. Note that these processors are created to work well with AWS Batch, but are not dependent on it and can  be used otherwise too.</p>
<h2 id="sentinel-2">Sentinel-2<a class="headerlink" href="#sentinel-2" title="Permanent link">&para;</a></h2>
<p>The <a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/sentinel_2_processor.py"><code>stacchip-sentinel-2</code></a>
processor CLi command processes Sentinel-2 data. It will process MGRS
tiles from a list of tiles from a layer that can be opened by geopandas.</p>
<p>Each MGRS tile will be processed by the row index in the source file.</p>
<p>For each tile it will process the least cloudy image in each quartal
from two random years between 2018 and 2023.</p>
<p>The script uses environment variables to determine all inputs:</p>
<ol>
<li>The index of the MGRS tile to be processes from the source file</li>
<li>The source file for the MGRS tile sample</li>
<li>A target bucket for writing the assets, stac items, and stacchip index.</li>
</ol>
<p>An example set of environment variables to run this script is:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_BATCH_JOB_ARRAY_INDEX</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_MGRS_SOURCE</span><span class="o">=</span>https://clay-mgrs-samples.s3.amazonaws.com/mgrs_sample_v02.fgb
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_BUCKET</span><span class="o">=</span>clay-v1-data
</code></pre></div>
<h2 id="landsat">Landsat<a class="headerlink" href="#landsat" title="Permanent link">&para;</a></h2>
<p>The <a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/landsat_processor.py"><code>stacchip-landsat</code></a>
processor CLI command processes Landsat data. It will process a list
of geometries from a layer that can be opened by geopandas. For each
row, it will use the centroid of the geometry to search for landsat
scenes.</p>
<p>For each geometry it will process the least cloudy image in each quartal
from two random years between 2018 and 2023. For one year it will collect
L1 data, and for the other year L2 data. The platform is either Landsat-8
or Landsat-9, depending on availability and cloud cover.</p>
<p>The script uses environment variables to determine all inputs:</p>
<ol>
<li>The index of geometry to be processes from the source file</li>
<li>The source file for the source sample file</li>
<li>A target bucket for writing the assets, stac items, and stacchip index.</li>
</ol>
<p>An example set of environment variables to run this script is:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_BATCH_JOB_ARRAY_INDEX</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_SAMPLE_SOURCE</span><span class="o">=</span>https://clay-mgrs-samples.s3.amazonaws.com/mgrs_sample_v02.fgb
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_BUCKET</span><span class="o">=</span>clay-v1-data
</code></pre></div>
<h2 id="naip">NAIP<a class="headerlink" href="#naip" title="Permanent link">&para;</a></h2>
<p>The <a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/naip_processor.py"><code>stacchip-naip</code></a> processor CLI
command processes imagery from the National Imagery Program (NAIP).</p>
<p>The sample locations were created using the <a href="https://www.naturalearthdata.com">Natural Earth</a>
database as a source. The sample includes all popluated places, protected
areas and parks, airports, and ports. In addition, we sampled one random point 
along each river, and one random location within each lake that is registered
in Natural Earth. Finally, we sampled 4000 random points. All data was 
filtered to be within the CONUS region.</p>
<p>Similar to the other processors, the input variables are provided using env vars.</p>
<p>An example set of environment variables to run this script is:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_BATCH_JOB_ARRAY_INDEX</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_SAMPLE_SOURCE</span><span class="o">=</span>https://clay-mgrs-samples.s3.amazonaws.com/clay_v1_naip_sample_natural_earth.fgb
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_BUCKET</span><span class="o">=</span>clay-v1-data
</code></pre></div>
<h2 id="linz">LINZ<a class="headerlink" href="#linz" title="Permanent link">&para;</a></h2>
<p>The <a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/linz_processor.py"><code>stacchip-linz</code></a> processor CLI
processes data from the New Zealand high resolution open aerial imagery.</p>
<p>As a sample, we randomly select 50% the scenes, whith a minimum of 10
and a maximum of 2000 scenes for each catalog that was included.
We selected the latest imagery for each of the available regions
of new zealand. The list of catalogs is in the linz processor file.</p>
<p>We also resample all the imagery to 30cm so that the data
is consistent.</p>
<p>Similar to the other processors, the input variables are provided using env vars.</p>
<p>An example set of environment variables to run this script is:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_BATCH_JOB_ARRAY_INDEX</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_BUCKET</span><span class="o">=</span>clay-v1-data
</code></pre></div>
<h2 id="modis">MODIS<a class="headerlink" href="#modis" title="Permanent link">&para;</a></h2>
<p>The <a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/modis_processor.py"><code>stacchip-modis</code></a> processor CLI
processes data from the MODIS archive. The modis scenes are reprojected to
the web mercator projection, and stored in S3. Then the indexer will create
one index table per modis scene. We use 233 modis SIN grid tiles, with 4 random
dates of 4 years of data for each SIN grid tile.</p>
<p>Similar to the other processors, the input variables are provided using env vars.</p>
<p>An example set of environment variables to run this script is:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span><span class="w"> </span><span class="nv">AWS_BATCH_JOB_ARRAY_INDEX</span><span class="o">=</span><span class="m">0</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">STACCHIP_BUCKET</span><span class="o">=</span>clay-v1-data
</code></pre></div>
<h2 id="batch-processing">Batch processing<a class="headerlink" href="#batch-processing" title="Permanent link">&para;</a></h2>
<p>The following base image can be used for batch processing. Installing the package
will include the command line utilities for each processor.</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.11</span>

<span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>stacchip
</code></pre></div>
<h2 id="prechip">Prechip<a class="headerlink" href="#prechip" title="Permanent link">&para;</a></h2>
<p>In cases where chips need to be computed in advance, the
<a href="https://github.com/Clay-foundation/stacchip/blob/main/stacchip/processors/naip_processor.py"><code>stacchip-prechip</code></a> cli script
is a helper to create npz files from the chips.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>